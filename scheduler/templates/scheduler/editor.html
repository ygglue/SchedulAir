{% extends 'scheduler/base.html' %}
{% block title %}
Schedule Editor
{% endblock %}

{% block content %}
<section class="container schedule-container">
  <div class="dashboard-card weather-board shadow-xxl h-100 mb-4">
    <div class="d-flex flex-wrap gap-3 justify-content-between align-items-center">
      <div>
        <h1 class="schedule-page-title">Class Schedule</h1>
        <p class="schedule-page-date">Wednesday, November 12</p>
      </div>
      <div class="d-flex flex-wrap gap-2">
        <button type="button" class="btn btn-outline-light rounded-pill px-3" data-bs-toggle="modal"
          data-bs-target="#editModal"><i class="bi bi-pencil-square me-1"></i>Edit</button>
        <button type="button" class="btn btn-outline-light rounded-pill px-3" data-bs-toggle="modal"
          data-bs-target="#deleteModal"><i class="bi bi-trash3 me-1"></i>Delete</button>
        <button type="button" class="btn btn-gradient rounded-pill px-3" data-bs-toggle="modal"
          data-bs-target="#createModal"><i class="bi bi-plus-lg me-1"></i>Add</button>
      </div>
    </div>
  </div>

  <div class="dashboard-card weather-board shadow-xxl h-100">
    <div class="week-days-header d-none d-lg-grid">
      <div class="week-day-header">Mon</div>
      <div class="week-day-header">Tue</div>
      <div class="week-day-header active">Wed</div>
      <div class="week-day-header">Thu</div>
      <div class="week-day-header">Fri</div>
    </div>
    <div class="week-schedule-grid">
      <div class="day-column">
        <div class="week-day-header d-lg-none mb-3">Mon</div>
        <div class="class-block block-yellow" data-duration="2h">
          <div class="class-time">7:30 AM - 9:30 AM</div>
          <div class="class-name">CS ELECTIVE</div>
        </div>
        <div class="class-block block-pink" data-duration="1h">
          <div class="class-time">9:30 AM</div>
          <div class="class-name">ADVANCED DATABASE</div>
        </div>
      </div>
      <div class="day-column">
        <div class="week-day-header d-lg-none mb-3">Tue</div>
        <div class="class-block block-purple" data-duration="2h">
          <div class="class-time">7:30 AM - 9:30 AM</div>
          <div class="class-name">APPLICATION DEVELOPMENT AND EMERGING TECHNOLOGIES 1</div>
        </div>
        <div class="class-block block-pink" data-duration="1h">
          <div class="class-time">9:30 AM</div>
          <div class="class-name">ADVANCED DATABASE SYSTEMS</div>
        </div>
      </div>
      <div class="day-column">
        <div class="week-day-header d-lg-none mb-3 active">Wed</div>
        <div class="class-block block-pink" data-duration="1h">
          <div class="class-time">9:00 AM</div>
          <div class="class-name">ADVANCED DATABASE SYSTEMS</div>
        </div>
      </div>
      <div class="day-column">
        <div class="week-day-header d-lg-none mb-3">Thu</div>
        <div class="class-block block-purple" data-duration="3h">
          <div class="class-time">7:30 AM - 10:30 AM</div>
          <div class="class-name">APPLICATION DEVELOPMENT AND EMERGING TECHNOLOGIES 1</div>
        </div>
      </div>
      <div class="day-column">
        <div class="week-day-header d-lg-none mb-3">Fri</div>
        <div class="class-empty">No classes</div>
      </div>
    </div>
  </div>
</section>

<!-- Create Modal -->
<div class="modal fade" id="createModal" tabindex="-1" aria-labelledby="createModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-header border-0 pb-3">
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <!-- Add Subject Section -->
        <div class="modal-section-divider">
          <h2 class="modal-title-custom modal-section-title mb-3">Add Subject</h2>
          <form class="row g-3" id="addSubjectForm">
            <div class="col-md-8 d-flex flex-column">
              <div class="mb-3">
                <label for="subjectName" class="modal-label">Subject Name</label>
                <input type="text" class="form-control" id="subjectName" placeholder="e.g. Computer Science" />
              </div>
              <div>
                <label for="instructor" class="modal-label">Instructor</label>
                <input type="text" class="form-control" id="instructor" placeholder="Name" />
              </div>
            </div>
            <div class="col-md-4 d-flex align-items-end">
              <button type="button" class="btn btn-gradient rounded-pill px-4 w-100 mb-0">Add Subject</button>
            </div>
          </form>
        </div>
        
        <!-- Add Class Section -->
        <h2 class="modal-title-custom modal-section-title mb-3">Add Class</h2>
        <form class="row g-3" id="addClassForm">
          <div class="col-md-6">
            <label for="subjectSelect" class="modal-label">Subject</label>
            {% if subjects %}
              <select class="form-select" id="subjectSelect">
                <option selected>Choose...</option>
                {% for subject in subjects %}
                  <option>{{subject.name}}</option>
                {% endfor %}
              </select>
            {% else %}
              <div class="modal-empty-message">No subjects available</div>
            {% endif %}
          </div>
          <div class="col-md-6">
            <label for="classDay" class="modal-label">Day</label>
            <select class="form-select" id="classDay">
              <option selected>Choose...</option>
              <option>Monday</option>
              <option>Tuesday</option>
              <option>Wednesday</option>
              <option>Thursday</option>
              <option>Friday</option>
            </select>
          </div>
          <div class="col-md-6">
            <label for="startTime" class="modal-label">Start Time</label>
            <input type="time" class="form-control" id="startTime" />
          </div>
          <div class="col-md-6">
            <label for="endTime" class="modal-label">End Time</label>
            <input type="time" class="form-control" id="endTime" />
          </div>
        </form>
      </div>
      <div class="modal-footer border-0 pt-3">
        <button type="button" class="btn btn-outline-light rounded-pill px-4" data-bs-dismiss="modal">
          Cancel
        </button>
        <button type="button" class="btn btn-gradient rounded-pill px-4">Add Class</button>
      </div>
    </div>
  </div>
</div>
{% endblock %}